@import "tailwindcss";

a,
button,
[role="button"],
[onclick] {
    cursor: pointer;
}

@theme {
    /* Navbar slant values - Only used when FEATURES.SLANT_ENABLED is true */
    --navbar-slant-mobile: 0.5rem;
    --navbar-slant-tablet: 0.45rem;
    --navbar-slant-desktop: 0.4rem;

    /* Section slant values - Only used when FEATURES.SLANT_ENABLED is true */
    --section-slant-mobile: 0.75rem;
    --section-slant-tablet: 1.35rem;
    --section-slant-desktop: 1.6rem;
}

@layer base {
    ::selection {
        @apply bg-blue-500 text-white;
    }

    /* Performance optimizations for animations */
    * {
        /* Hint to browser which properties will change for smoother animations */
        will-change: auto;
    }

    /* Optimize canvas rendering */
    canvas {
        /* Prevent unnecessary repaints */
        transform: translateZ(0);
        backface-visibility: hidden;
    }

    /* Reduce initial paint complexity */
    .section-base {
        /* Hint to browser about upcoming changes */
        will-change: transform, opacity;
    }

    /* Optimize animations for 60fps */
    @media (prefers-reduced-motion: no-preference) {
        * {
            /* Use GPU for animations */
            transform: translateZ(0);
        }
    }
}

@layer components {
    /* Base section styles */
    .section-base {
        /* 64px is the height of the navbar */
        /* Use svh (small viewport height) for stable mobile layout */
        /* Note: Brave mobile has a bug treating svh like dvh, but it's a niche browser */
        min-height: calc(100svh - 68px);
        scroll-margin-top: 69px;

        /* For devices with a minimum certain dimensions, enable scroll snapping - value tested empirically */
        @media (min-width: theme("screens.lg")) and (min-height: 988px) {
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }
    }

    .section-base[data-variant="hero"] {
        min-height: 100svh;
        /* 68px is the height of the navbar */
        padding-top: 68px;
    }

    .section-base[data-variant="contact"] {
        /* 68px is the height of the navbar; 168px is the height of the footer */
        min-height: calc(100svh - 68px - 168px);
    }

    /* Fallback for browsers that don't support svh */
    @supports not (height: 100svh) {
        .section-base {
            min-height: calc(100vh - 68px);
        }

        .section-base[data-variant="hero"] {
            min-height: 100vh;
        }

        .section-base[data-variant="contact"] {
            min-height: calc(100vh - 68px - 168px);
        }
    }
}

@layer utilities {
    .slant-bottom {
        clip-path: polygon(0 0, 100% 0, 100% calc(100% - var(--slant)), 0 100%);
    }

    .slant-top {
        clip-path: polygon(0 var(--slant), 100% 0, 100% 100%, 0 100%);
    }

    .slant-top-bottom {
        clip-path: polygon(0 var(--slant), 100% 0, 100% calc(100% - var(--slant)), 0 100%);
    }
}
